<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Cello Fingering Assistant - N√°stroj pro optim√°ln√≠ prstoklad violoncella</title>
    <meta name="description" content="Aplikace pro nalezen√≠ optim√°ln√≠ho prstokladu pro violoncello pomoc√≠ pokroƒçil√©ho algoritmu. Zadejte sekvenci t√≥n≈Ø a z√≠skejte doporuƒçen√Ω prstoklad s vizualizac√≠ hmatn√≠ku.">
    <meta name="keywords" content="violoncello, cello, prstoklad, fingering, hmatn√≠k, hudebn√≠ n√°stroj, violoncellov√° technika">
    <meta name="author" content="Sensio.cz s.r.o.">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cello Fingering Assistant - N√°stroj pro optim√°ln√≠ prstoklad violoncella">
    <meta property="og:description" content="Aplikace pro nalezen√≠ optim√°ln√≠ho prstokladu pro violoncello pomoc√≠ pokroƒçil√©ho algoritmu.">
    <meta property="og:locale" content="cs_CZ">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Cello Fingering Assistant">
    <meta name="twitter:description" content="Aplikace pro nalezen√≠ optim√°ln√≠ho prstokladu pro violoncello pomoc√≠ pokroƒçil√©ho algoritmu.">
    
    <link rel="icon" type="image/svg+xml" href="assets/img/favicon.svg">
    <link rel="stylesheet" href="assets/css/main.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 p-4 md:p-8 font-sans text-slate-900">

    <div class="max-w-6xl mx-auto bg-white shadow-2xl rounded-3xl overflow-hidden border border-slate-200">
        <header class="bg-indigo-950 p-8 text-white">
            <div class="flex items-center justify-between mb-4">
                <a href="/" class="flex items-center gap-3 hover:opacity-80 transition-opacity">
                    <img src="assets/img/logo.svg" alt="Cello Fingering Assistant Logo" class="w-12 h-12">
                    <h1 class="text-3xl font-black tracking-tight italic">Cello Fingering Assistant</h1>
                </a>
                <div class="flex items-center gap-4">
                    <button id="darkModeToggle" class="text-indigo-200 hover:text-white transition-colors touch-target" aria-label="P≈ôepnout Dark Mode">
                        <svg id="darkModeIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                    <nav class="hidden md:flex items-center gap-6">
                        <a href="/" class="text-indigo-200 hover:text-white font-medium transition-colors">Home</a>
                        <a href="dev/tests/test.html" class="text-indigo-200 hover:text-white font-medium transition-colors">Testy</a>
                        <a href="dev/docs/main.md" class="text-indigo-200 hover:text-white font-medium transition-colors">Dokumentace</a>
                    </nav>
                    <button id="mobileMenuToggle" class="md:hidden text-indigo-200 hover:text-white transition-colors touch-target" aria-label="Otev≈ô√≠t menu">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <nav id="mobileMenu" class="md:hidden hidden flex flex-col gap-3 mt-4">
                <a href="/" class="text-indigo-200 hover:text-white font-medium transition-colors">Home</a>
                <a href="dev/tests/test.html" class="text-indigo-200 hover:text-white font-medium transition-colors">Testy</a>
                <a href="dev/docs/main.md" class="text-indigo-200 hover:text-white font-medium transition-colors">Dokumentace</a>
            </nav>
            <p class="text-indigo-300 font-medium mt-2 text-xs tracking-widest">
                Pro zadan√© t√≥ny doporuƒç√≠ vhodn√Ω prstoklad
            </p>
        </header>

        <!-- Homepage Content -->
        <main class="p-8 bg-white">
            <section class="mb-8">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">O aplikaci</h2>
                <p class="text-slate-700 mb-4 leading-relaxed">
                    <strong>Cello Fingering Assistant</strong> je klientsk√° webov√° aplikace pro n√°vrh optim√°ln√≠ho prstokladu pro violoncello. 
                    Aplikace vyu≈æ√≠v√° pokroƒçil√Ω algoritmus zalo≈æen√Ω na dynamick√©m programov√°n√≠, kter√Ω analyzuje sekvenci t√≥n≈Ø 
                    a doporuƒçuje nejvhodnƒõj≈°√≠ prstoklad s ohledem na polohovou stabilitu, minimalizaci posun≈Ø a efektivn√≠ vyu≈æit√≠ hmatn√≠ku.
                </p>
                <p class="text-slate-700 leading-relaxed">
                    Algoritmus up≈ôednost≈àuje z≈Østat v jedn√© poloze, minimalizuje poƒçet posun≈Ø mezi polohami a preferuje ni≈æ≈°√≠ polohy. 
                    V√Ωsledek zobrazuje jak textovƒõ (s barevn√Ωm rozli≈°en√≠m strun), tak vizu√°lnƒõ na interaktivn√≠m hmatn√≠ku.
                </p>
            </section>

            <section class="mb-8">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">Hlavn√≠ funkce</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="p-6 bg-indigo-50 rounded-xl border border-indigo-100">
                        <h3 class="text-lg font-bold text-indigo-900 mb-2">üéØ Inteligentn√≠ algoritmus</h3>
                        <p class="text-slate-700 text-sm">
                            Pokroƒçil√Ω algoritmus zalo≈æen√Ω na metodice, kter√Ω optimalizuje prstoklad s ohledem na polohovou stabilitu, 
                            minimalizaci posun≈Ø a preferenci ni≈æ≈°√≠ch poloh.
                        </p>
                    </div>
                    <div class="p-6 bg-emerald-50 rounded-xl border border-emerald-100">
                        <h3 class="text-lg font-bold text-emerald-900 mb-2">üé® Vizu√°ln√≠ hmatn√≠k</h3>
                        <p class="text-slate-700 text-sm">
                            Interaktivn√≠ vizualizace hmatn√≠ku na Canvas, kter√° zobrazuje doporuƒçen√Ω prstoklad s barevn√Ωm rozli≈°en√≠m strun 
                            a propojen√≠m pohybu ruky.
                        </p>
                    </div>
                    <div class="p-6 bg-amber-50 rounded-xl border border-amber-100">
                        <h3 class="text-lg font-bold text-amber-900 mb-2">üìä Textov√Ω v√Ωstup</h3>
                        <p class="text-slate-700 text-sm">
                            P≈ôehledn√Ω textov√Ω v√Ωstup s ≈ô√≠msk√Ωmi ƒç√≠slicemi poloh, ƒç√≠sly prst≈Ø barevnƒõ podle strun a oznaƒçen√≠m ≈°irok√Ωch poloh.
                        </p>
                    </div>
                    <div class="p-6 bg-purple-50 rounded-xl border border-purple-100">
                        <h3 class="text-lg font-bold text-purple-900 mb-2">üåì Dark Mode</h3>
                        <p class="text-slate-700 text-sm">
                            Podpora svƒõtl√©ho a tmav√©ho re≈æimu s automatickou detekc√≠ syst√©mov√© preference a mo≈ænost√≠ manu√°ln√≠ho p≈ôep√≠n√°n√≠.
                        </p>
                    </div>
                </div>
            </section>
        </main>

        <div class="p-8 border-b border-slate-100 bg-slate-50">
            <label class="block text-sm font-bold text-slate-700 mb-2 tracking-wider">
                Zadejte t√≥ny vƒçetnƒõ rozli≈°en√≠ okt√°v a posuvek oddƒõlen√© mezerami, nap≈ô. C c c1 c1# gb
            </label>
            <div class="flex flex-col md:flex-row gap-4">
                <input type="text" id="melodyInput"
                       class="flex-1 p-4 text-xl border-2 border-slate-200 rounded-2xl focus:border-indigo-500 outline-none transition-all font-mono shadow-inner"
                       value="e f# g#">
                <button onclick="runSolver()"
                        class="bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 px-10 rounded-2xl transition-all shadow-lg active:scale-95">
                    Navrhnout prstoklad
                </button>
            </div>
        </div>

        <div id="resultsWrapper" class="p-8 hidden">
            <div id="pathDisplay" class="flex flex-wrap justify-center md:justify-start gap-4"></div>

            <canvas id="fretboardCanvas" width="1000" height="400" class="mt-10 border border-slate-300 rounded-lg"></canvas>
        </div>

        <div class="p-8 bg-white border-t border-slate-100 text-center">
            <button onclick="toggleJson()" class="text-xs font-bold text-slate-400 uppercase tracking-widest hover:text-slate-600 transition-colors">
                Zobrazit JSON Model
            </button>
            <div id="jsonContainer" class="hidden mt-4 bg-slate-900 rounded-2xl p-6 text-left overflow-hidden">
                <pre id="jsonDisplay" class="text-emerald-400 text-xs overflow-auto max-h-[300px]"></pre>
            </div>
        </div>

        <footer class="bg-slate-100 border-t border-slate-200 py-6 text-center text-sm text-slate-600">
            <p>¬© 2025 <a href="https://www.sensio.cz" class="text-indigo-600 hover:text-indigo-800 font-medium transition-colors">Sensio.cz s.r.o.</a></p>
        </footer>
    </div>

    <script type="module" src="assets/js/fingering.js"></script>
    <script type="module" src="assets/js/ui.js"></script>
    <script>
        // Mobile menu toggle
        document.getElementById('mobileMenuToggle')?.addEventListener('click', () => {
            const menu = document.getElementById('mobileMenu');
            menu?.classList.toggle('hidden');
        });

        // Dark mode toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        const darkModeIcon = document.getElementById('darkModeIcon');
        
        // Zkontrolovat ulo≈æenou preferenci nebo syst√©movou
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedMode = localStorage.getItem('darkMode');
        const isDark = savedMode === 'true' || (savedMode === null && prefersDark);
        
        if (isDark) {
            document.body.classList.add('dark-mode');
        }
        
        darkModeToggle?.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDarkNow = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkNow.toString());
            
            // Zmƒõnit ikonu
            if (darkModeIcon) {
                if (isDarkNow) {
                    darkModeIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>';
                } else {
                    darkModeIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>';
                }
            }
        });
    </script>
</body>
</html>
